# 24/05/21 (화) 5년차 Back-End 개발자의 조언

> 본 내용은 특강의 내용을 키워드로 요악해서 정리한 것이다.
  
## 목차

- [Mermaid](#Mermaid.js)
- [RestController](#RestController)
- [기술부채 / 트레이드 오프](#기술부채-/-트레이드-오프)
- [리펙토링 성능 개선](#리펙토링-성능-개선)
- [DB 쿼리 최적화, 캐싱](#DB-쿼리-최적화,-캐싱)
- [스케일 아웃, 아키텍처 개선](#스케일-아웃,-아키텍처-개선)
- [Grafana](#Grafana)
- [Datadog](#Datadog)
- [New relic](#New-relic)
- [ARM](#ARM)
- [CommandLineRunner](#CommandLineRunner)
- [테스트 피라미드](#테스트-피라미드)
- [Mocking](#Mocking)
- [인증방식](#인증방식)
- [개념증명 POC](#개념증명-POC)

## 신입 BE개발자가 알아두면 좋은 기술/지식

### Mermaid.js

- Mermaid는 텍스트와 코드를 사용하여 다이어그램를 정의하여 그릴 수 있게 도와주는 도구이다.

- 자바스크립트를 기반으로 다이어그램을 보다 쉽게 시각화 할 수 있다.

- mermaid의 장점은 github나 gitlab에서도 시각화가 가능하다.

### RestController

- @RestController 어노테이션은 RESTful 웹 서비스를 제공하는 컨트롤러를 정의할 때 사용되며, 메서드의 반환 값이 JSON, XML 등과 같은 데이터로 처리된다.

- @Controller와 @ResponseBody 어노테이션을 합친 형태로 생각할 수 있다.

- 따라서 개발자는 @ResponseBody를 추가할 필요가 없다.

### 기술부채 / 트레이드 오프

- 기술 부채는 현 시점에서 더 오래 소요될 수 있는 더 나은 접근방식을 사용하는 대신 쉬운 솔루션을 채택함으로써 발생되는 추가적인 재작업의 비용을 반영하는 소프트웨어 개발의 한 관점이다.
> [기술 부채 - 위키백과](https://ko.wikipedia.org/wiki/%EA%B8%B0%EC%88%A0_%EB%B6%80%EC%B1%84)

- 기술 부채가 발생하는 원인
    - 개발자의 역량
    - 서비스의 지속적인 개발
    - 발전하는 기술
    - 외부적 요인 (스케줄, 급한 스펙 변경 등)

- 기술 부채 해결 방법
    - 꾸준한 관심을 가지고 유지보수(리팩토링)

- 트레이드오프(trade-off, tradeoff)는 다른 측면에서 이득을 얻으면서 집합 또는 디자인의 품질, 양, 속성을 없애거나 잃어버리는 일이 수반되는 상황적 결정이다. 즉, 하나가 증가하면 다른 하나는 무조건 감소한다는 것을 뜻한다.
- ex) 프로그램의 성능을 높일수록 메모리 사용량 증가
> [트레이드오프 - 위키백과](https://ko.wikipedia.org/wiki/%ED%8A%B8%EB%A0%88%EC%9D%B4%EB%93%9C%EC%98%A4%ED%94%84)
### 리펙토링 성능 개선

- 결과의 변경 없이 코드의 구조를 재조정한다는 뜻이다.

- 사용자가 보는 외부 화면은 그대로 두면서 내부 논리나 구조를 바꾸고 개선하는 유지보수 행위이다.

- 가독성을 높이고 복잡성을 감소시키며, 유지보수를 편하게 하기 위해 진행한다.

### DB 쿼리 최적화, 캐싱

#### DB 쿼리 최적화 방법
- 필요한 컬럼만 선택
    ```sql
    SELECT * FROM mytable;
    ```
    ```sql
    SELECT name, age, city FROM mytable;
    ```

- 쿼리 결과를 미리보기 위해 Limit을 사용
    ```sql
    SELECT name FROM mytable LIMIT 50;
    ```

- 와일드카드는 문장의 끝에서만 사용
    ```sql
    SELECT name FROM mytable WHERE state = 'A%';
    ```

- 가능하면 SELECT DISTINCT 문을 피하라
    ```sql
    SELECT DISTINCT name, age FROM mytable;
    ```
    - 중복된 값을 제거하기 위해 추가적인 처리 부담을 주어 성능 저하를 초래할 수 있다. 
    ```sql
    SELECT name,age,gender,city,state,zip FROM mytable;
    ```
    - 원하는 고유한 결과를 보기위해 컬럼 값을 선택한다.
    ```sql
    SELECT name,age FROM mytable GROUP BY name,age;
    ```
    - GROUP BY 절을 사용하여 중복된 값을 그룹화

- 사용량이 적은 시간에 대규모 쿼리를 실행하라

    - 사용량이 적은 시간에 대규모 쿼리를 실행 (예시 : 2:00 ~ 5:00 AM)
 

#### 위 쿼리 최적화를 통해 **성능개선, 리소스 활용 개선, 사용자 영향 최소화** 등을 할 수 있다.

#### 캐싱 Caching
- 병목 현상을 완화하기 위해 CPU와 메인 메모리(RAM) 사이에 크기는 작지만 속도가 빠른 캐시 메모리를 두고, 향후 재사용할 가능성이 클 것으로 예상되는 데이터의 복사본을 저장해 둔 CPU가 요청하는 데이터를 바로바로 전달할 수 있도록 한 것

- DRAM(메인 메모리) : 트랜지스터가 1개이고, 비용이 SRAM에 비해 저렴하다.

- SRAM(캐시 메모리) : 차지하는 면적도 크고 트랜지스터가 6개로 구조가 복잡하고, 비용도 비싸다.

- 사용하는 경우
    - 데이터에 직접적으로 접근하는데 걸리는 시간이 오래 걸릴 때
    - 필요한 값을 얻기 위해 계산하는 과정을 생략하고 싶을 때
    - 반복적으로 동일한 결과를 돌려주는 경우

### 스케일 아웃, 아키텍처 개선

- 스케일 아웃은 서버를 여러 대 추가하여 시스템을 확장하는 것을 말한다.
 
- 서버가 여러 대로 나뉘기 때문에 각 서버에 걸리는 부하를 균등하게 해주는 '로드밸런싱'이 필수적으로 동반되어야 한다.
 
- 이처럼 여러 대의 서버로 나눠 시스템을 확장하기 때문에 수평 스케일로 불리기도 한다.

### Grafana

- 시계열 데이터에 대한 시각화 대시보드를 제공해주는 오픈소스 플랫폼

- DB를 연결하여 DB의 데이터를 가져와 시각화 할 수 있다.

### Datadog
- 인프라, 컨테이너, 어플리케이션 등의 상태를 관찰하고 데이터를 수집·분석하여 장애를 대비할 수 있도록 지원해주는 클라우드 모니터링 솔루션 
### New relic

- SaaS 기반의 APM(Application Performance Management) 서비스

### APM

- 소프트웨어 애플리케이션의 성능을 모니터링, 관리 및 최적화하는 데 사용되는 도구와 기술의 모음을 말함.

- 성능 모니터링, 문제 식별, 자원 사용량 분석, 경고 및 알림 등을 지원함.

### CommandLineRunner

- 애플리케이션 구동 시점에 특정 코드 실행 시키기기 위한 인터페이스

### 테스트 피라미드

### Mocking

### 인증방식

### 개념증명 POC
